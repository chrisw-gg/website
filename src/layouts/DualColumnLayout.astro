---

import BaseLayout from '@layouts/BaseLayout.astro';

---

<BaseLayout>

    <header />
    
    <div id='columns'>
        
        <aside class='column'>
            <slot name='slot_sidebar' />
        </aside>

        <main class='column'>
            <slot name='slot_content' />
        </main>
        
    </div>

    <footer />

</BaseLayout>

<style lang='scss'>

    @use '/src/css/layout.scss' as *;

    @property --layout {
        syntax: 'single-column | dual-column';
        inherits: true;
        initial-value: single-column;
    }

    :root {
        --layout: single-column;
    }

    @include dual-column-layout {
        :root {
            --layout: dual-column;
        }
    }

</style>

<style lang='scss'>

    @use '/src/css/layout.scss' as *;

    @include any-layout {

        #columns {

            display: flex;
            width: 100%;

            aside {
                background-color: var(--background-color-900);
            }

            main {
                max-width: $content_width;
            }

            .column {
                display: flex;
                flex-flow: column;
                width: 100%;
            }

        }

    }

    @include single-column-layout {

        #columns {

            align-items: center;
            flex-flow: column;
            
            main {
                gap: 40px;
            }

            .column {
                max-width: $content_width;
                margin-bottom: 40px;
            }
            
        }
        
    }

    @include dual-column-layout {

        #columns {

            flex-flow: row;
            justify-content: center;

            margin-bottom: $footer_size;
            margin-top: $header_size;

            aside {
                height: calc(100vh - ($header_size + $footer_size));
                max-width: $sidebar_width;
                position: sticky;
                top: $header_size;
            }

            main {
                gap: $column_gap;
                margin-left: $column_gap;
            }

        }

        header, footer {
            background-color: var(--background-color-950);
            height: $header_size;
            position: fixed;
            width: 100%;
            z-index: 100;
        }

        header {
            top: 0px;
        }

        footer {
            bottom: 0px;
        }

    }

</style>